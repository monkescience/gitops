// Node Logs Configuration
// Local file scraping for node system logs

local.file_match "node_logs" {
  path_targets = [{
    __path__  = "/var/log/syslog"
    job       = "node/syslog"
    node_name = sys.env("HOSTNAME")
    cluster   = monke-eu-central-1-dev
  }]
}

loki.source.file "node_logs" {
  targets    = local.file_match.node_logs.targets
  forward_to = [loki.write.default.receiver]
}
