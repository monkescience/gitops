// Kubernetes Cluster Events
// Collects and processes Kubernetes cluster events

loki.source.kubernetes_events "cluster_events" {
  job_name   = "integrations/kubernetes/eventhandler"
  log_format = "logfmt"

  forward_to = [
    loki.process.cluster_events.receiver
  ]
}

loki.process "cluster_events" {
  forward_to = [loki.write.default.receiver]

  stage.static_labels {
    values = {
      cluster = "monke-eu-central-1-dev"
    }
  }

  stage.labels {
    values = {
      kubernetes_cluster_events = "job"
    }
  }
}
